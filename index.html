

<html lang="ko">

<head>
	<title>KNU-AIR</title>
	<!-- Meta tag Keywords -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="UTF-8" />
	<meta name="keywords"
		content="Bicycle Error Page Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template, Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
	<script>
		addEventListener("load", function () {
			setTimeout(hideURLbar, 0);
		}, false);

		function hideURLbar() {
			window.scrollTo(0, 1);
		}
	</script>
	<!-- //Meta tag Keywords -->
	<!--/Style-CSS -->
	<link rel="stylesheet" href="css/style.css" type="text/css" media="all" />
	<!--//Style-CSS -->
	<!-- font-awesome-icons -->
	<link href="css/font-awesome.css" rel="stylesheet">
	<!-- //font-awesome-icons -->
</head>

<body>
<body>
  <!-- Insert these scripts at the bottom of the HTML, but before you use any Firebase services -->

  <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-app.js"></script>

  <!-- Add Firebase products that you want to use -->
   <script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-database.js"></script>
</body>
	
	
	
	
	<section class="w3l-error-61-404">
		<!-- /error-61-section -->
		<div class="error-61-mian">
			<div class="wrapper">
				<div class="errors-16-top">
					<div class="errors-16-info">
						<h3>KNU AIR </h3>

						<p>경북대 실내 공기 모니터링 서비스</p>
						<form action="#" method="post" class="d-flex error-page-form">
							<input type="text"   onkeypress="if(event.keyCode == 13){return false;}"  id="message" placeholder="강의실을 입력하세요" >
							<button type="button" onclick="readdata()" >검색</button>
						</form>
						
						<div class="displaydata" style="color: #f5f8fe;">
						<h1 id="loca"></h1>
						<h1 id="pm1"></h1>
						<h1 id="pm10"></h1>
						<h1 id="pm25"></h1>
						<h1 id="CO2"></h1>
						</div>
												
					</div>
						<textarea rows="5" cols="30" id="ListResult" readonly></textarea>
				</div>
				
				<div class="copyright-footer">
					<div class="copy-right">
						<p>© 2020 KNU-AIR Page. All rights reserved </p>
					</div>
				</div>
			</div>
		</div>
		
	<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyAlvusH7uUa2X0PuZYfq19kAYBTagee90E",
    authDomain: "knu-air.firebaseapp.com",
    databaseURL: "https://knu-air.firebaseio.com",
    projectId: "knu-air",
    storageBucket: "knu-air.appspot.com",
    messagingSenderId: "836327113876",
    appId: "1:836327113876:web:49347be1f56ebdcec96081",
    measurementId: "G-DKHWTMLWW1"
  };
  // Initialize Firebase 
  firebase.initializeApp(firebaseConfig);
 
  
  
 
	
  

</script>		

 <script> 
 
	 
 function readdata(){
 
 
 var searchDB =document.getElementById("message").value;
  

	 
	firebase.database().ref('location/'+searchDB).on('value',function(snapshot) {
	
	if(snapshot.val())
	{
	
   var pm1 = snapshot.val().pm1;
  var pm10 = snapshot.val().pm10;
   var CO2 = snapshot.val().CO2;
  var pm25 = snapshot.val().pm25;
  document.getElementById("loca").innerHTML = '장소: '+searchDB;
  document.getElementById("pm1").innerHTML = 'PM1: '+ pm1 + ' ug/cm3';
  document.getElementById("pm10").innerHTML = 'PM10: '+ pm10 + ' ug/cm3';
  document.getElementById("pm25").innerHTML = 'PM2.5: '+ pm25 + ' ug/cm3';
  document.getElementById("CO2").innerHTML = 'CO2: '+ CO2 + ' ppm';
  }
  
  else
  {
  document.getElementById("loca").innerHTML = '장소를 찾을 수 없습니다: '+searchDB;
 document.getElementById("pm1").innerHTML = '';
  document.getElementById("pm10").innerHTML = '';
  document.getElementById("pm25").innerHTML = '';
  document.getElementById("CO2").innerHTML = '';
  
  }
  
  	
  });}
	</script>	
	
	<script>
	
	
    var ListResultData = document.getElementById("ListResult");	
	var listRef = firebase.database().ref('location/');
	listRef.once('value').then(function(snapshot) {
	
	
	snapshot.forEach(function(snapshot1){
	console.log(snapshot1.key);
	
	var listData = snapshot1.key;
	if(listData != undefined){
			ListResultData.value += listData + "\n";
			
			
		}
	
	}
	);
	
	});
	
		
	</script>	
	
	</section>
	<!-- //error-61-section -->

</body>

</html>


